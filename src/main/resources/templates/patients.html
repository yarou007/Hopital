<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<title>Dashbaord</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

</head>

<body>

	<div class="p-3">
		<div class="card">
		<div class="card-header">Liste Patients</div>

	<div class="card-body">
		<form class="col-sm-3" method="GET" th:action="@{index}">
			<label>Keyword :</label>
			<input class="form-control"type="text" name="keyword" th:value="${keyword}">
			<button type="submit" class="btn btn-info"><i class="bi bi-search"></i> </button>
		</form>
		
   <a th:href="@{/index}">Home</a>
		
		<table class="table">
			<thead>
				<tr class="col  bg-light">
					<th>ID</th>
					<th>Nom</th>
					<th>Date</th>
					<th>Malade</th>
					<th>Score</th>
					<th>Action</th>
				</tr>


				<tr th:each="patient:${ListPatients}">
					<td th:text="${patient.id}"></td>
					<td th:text="${patient.nom}"></td>
					<td th:text="${patient.dateNaissence}"></td>
					<td th:text="${patient.malade}"></td>
					<td th:text="${patient.score}"></td>
					<td>
						<a onclick="return confirm('met2aked?')" 
						th:href="@{delete(id=${patient.id}, keyword=${keyword} , page=${currentPage}) }" class="btn btn-danger"><i class="bi bi-trash3"></i> </a>
						<a class="btn btn-success"><i class="bi bi-pencil-square"></i></a>

					</td>
				</tr>
			</thead>

		</table>
		<ul class="nav nav-pills">
			
			<li th:each="page,status:${pages}">
				<a 
					 th:href="@{/index(page=${status.index},keyword=${keyword})}"
				    th:class="${currentPage==status.index?'btn btn-info ms-2':'btn btn-outline-info ms-2'}"
				    th:text="${1+status.index}"
			></a>
			</li>
			
		</ul>
		
	</div>
	</div>
	</div>




</body>

</html>